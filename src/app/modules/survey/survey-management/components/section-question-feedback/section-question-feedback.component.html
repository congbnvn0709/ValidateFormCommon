<div [formGroup]="form">
  <div class="fix-height-of-content" formArrayName="listSubQuestion">
    <ng-container *ngFor="let f of form.controls['listSubQuestion'].controls; index as index">
      <div class="fix-height-of-content" [formGroupName]="index">
        <div nz-row [nzGutter]="24">
          <div nz-col nzSm="24" nzLg="12">
            <div class="config-answer">
              <div class="dummy-action cl-blue">
                <i nz-icon nzType="align-left" nzTheme="outline"></i>
              </div>
              <div class="answer-content">
                <nz-form-item class="w-100">
                  <nz-form-control nzSpan="24">
                    <textarea class="w-100" nz-input name="choiceContent" id="choiceContent" cols="4"
                      formControlName="choiceContent" placeholder="{{ 'survey_management.answer_content' | translate }}"
                      maxlength="255"></textarea>
                    <!-- <vt-show-errors [control]="form.controls['listSubQuestion'].controls[index].controls['choiceContent']"
                      [controlName]="'common.username' | translate ">
                    </vt-show-errors> -->
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </div>
          <div nz-col nzSm="24" nzLg="12">
            <div class="wrap-blockchain justify-content-end">
              <div class="refer-text">
                <span>{{ 'survey_management.continue_section_2' | translate }}</span>
              </div>
              <div class="select-refer">
                <nz-form-item>
                  <nz-form-control nzSpan="24">
                    <nz-select id="nextSectionOrder" nzShowSearch nzAllowClear formControlName="nextSectionOrder"
                      nzPlaceHolder="{{ 'common.select' | translate }}"
                      (ngModelChange)="onSectionChange($event, index)">
                      <ng-container *ngFor="let item of sectionData">
                        <nz-option [nzValue]="item.value"
                          [nzLabel]="('survey_management.section' | translate) + ' ' + item.index"></nz-option>
                      </ng-container>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div class="refer-text">
                <span>{{ 'survey_management.continue_question' | translate | lowercase}}</span>
              </div>
              <div class="select-refer">
                <nz-form-item>
                  <nz-form-control nzSpan="24">
                    <nz-select id="nextQuestionOrder" nzShowSearch nzAllowClear formControlName="nextQuestionOrder"
                      nzPlaceHolder="{{ 'common.select' | translate }}">
                      <ng-container *ngFor="let item of questionList[index]">
                        <nz-option [nzValue]="item.value"
                          [nzLabel]="('survey_management.continue_question' | translate) + ' ' + item.index">
                        </nz-option>
                      </ng-container>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
              <div>
                <span class="pointer" (click)="onRemove(index)" nz-tooltip
                  nzTooltipTitle="{{ 'survey_management.delete_answer' | translate }}">
                  <i nz-icon nzType="minus-circle" nzTheme="outline"></i>
                </span>
              </div>
            </div>
            <div class="wrap-blockchain justify-content-end limit">
              <div class="limit-label">
                <span>{{ 'survey_management.limit_character' | translate }}</span>
              </div>
              <div class="limit-character select-refer">
                <nz-form-item>
                  <nz-form-control nzSpan="24">
                    <input nz-input placeholder="{{ 'survey_management.limit' | translate }}"
                      formControlName="answerLimitLength" id="answerLimitLength" trim="blur" maxlength="10" [vtPreventTyping]="PATTERNS.PATTERN_005"/>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
